(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42b802cd"],{"31de":function(e,t,a){"use strict";var s=a("97e2"),r=a.n(s);r.a},"6c93":function(e,t,a){"use strict";var s=a("9e01"),r=a.n(s);r.a},"80c1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("common-layout",[s("div",{staticClass:"top"},[s("div",{staticClass:"header"},[s("img",{staticClass:"logo",attrs:{alt:"logo",src:a("e74f")}}),s("span",{staticClass:"title"},[e._v(e._s(e.systemName))])]),s("div",{staticClass:"desc"},[e._v(e._s(e.$t("title")))])]),s("div",{staticClass:"login"},[s("a-form",{attrs:{form:e.form},on:{submit:e.onSubmit}},[s("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:e.usernameRequired,whitespace:!0}]}],expression:"[\n            'username',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: usernameRequired,\n                  whitespace: true\n                }\n              ]\n            }\n          ]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:e.$t("username")}},[s("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.passwordRequired,whitespace:!0}]}],expression:"[\n            'password',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: passwordRequired,\n                  whitespace: true\n                }\n              ]\n            }\n          ]"}],attrs:{size:"large",placeholder:e.$t("password"),autocomplete:"autocomplete"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),s("a-form-item",[s("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{loading:e.logging,size:"large",htmlType:"submit",type:"primary"}},[e._v(e._s(e.$t("login")))])],1)],1),s("div",{staticStyle:{cursor:"pointer","font-weight":"bold"}},[s("a-dropdown",{staticClass:"lang header-item"},[s("div",[s("a-icon",{attrs:{type:"global"}}),e._v(" "+e._s(e.langAlias)+" ")],1),s("a-menu",{attrs:{slot:"overlay","selected-keys":[e.lang]},on:{click:function(t){return e.setLang(t.key)}},slot:"overlay"},e._l(e.langList,(function(t){return s("a-menu-item",{key:t.key},[e._v(e._s(t.key.toLowerCase()+" "+t.name))])})),1)],1)],1)],1)])},r=[],o=(a("7db0"),a("5530")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[e._t("default")],2),a("page-footer",{attrs:{"link-list":e.footerLinks,copyright:e.copyright}})],1)},i=[],c=a("613e"),l=a("5880"),u={name:"CommonLayout",components:{PageFooter:c["a"]},computed:Object(o["a"])({},Object(l["mapState"])("setting",["footerLinks","copyright"]))},d=u,m=(a("31de"),a("2877")),g=Object(m["a"])(d,n,i,!1,null,"7ff09030",null),p=g.exports,f=a("93d6"),h=a("b775"),v=a("89a5"),w={name:"Login",components:{CommonLayout:p},i18n:a("e0bd"),data:function(){return{logging:!1,error:"",langList:[{key:"ES",name:"Español Latinoaméricano",alias:"Español"},{key:"US",name:"English",alias:"English"}],usernameRequired:this.$t("usernameRequired"),passwordRequired:this.$t("passwordRequired"),avatar:f["a"][Math.floor(10*Math.random())],form:this.$form.createForm(this)}},computed:Object(o["a"])(Object(o["a"])({},Object(l["mapState"])("setting",["lang"])),{},{systemName:function(){return this.$store.state.setting.systemName},langAlias:function(){var e=this,t=this.langList.find((function(t){return t.key==e.lang}));return t.alias}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["mapMutations"])("account",["setUser","setPermissions","setRoles","setUserInfo","setUserInfoLastLogin","setUserAvatar"])),Object(l["mapMutations"])("setting",["setLang"])),{},{onSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e){if(!e){t.logging=!0;var a=t.form.getFieldValue("username"),s=t.form.getFieldValue("password");Object(f["d"])(a,s).then(t.afterLogin).catch((function(e){t.logging=!1,t.error=t.$t("loginError")}))}}))},afterLogin:function(e){var t=this;this.logging=!1;var a=e.data;Object(f["c"])(a.data.user_id).then((function(e){t.setUserInfo(e.data.first_name+" "+e.data.last_name),t.setUserInfoLastLogin(e.data.last_login),t.setUser(a.data.user.username),t.setUserAvatar(t.avatar),Object(h["f"])({token:a.data.token,expireAt:new Date(a.data.expiry)}),Object(f["b"])().then((function(a){var s=a.data;Object(v["d"])(s),t.$router.push("/dashboard/wallet"),t.$message.success(t.$t("welcome")+" "+e.data.first_name+" "+e.data.last_name,5)}))}))}})},b=w,y=(a("6c93"),Object(m["a"])(b,s,r,!1,null,"007cee0a",null)),_=y.exports;t["default"]=_},"97e2":function(e,t,a){},"9e01":function(e,t,a){},e0bd:function(e,t){e.exports={messages:{ES:{title:"Inicio de sesión NEARP2P",username:"usuario",password:"contraseña",usernameRequired:"Por favor ingrese su usuario",passwordRequired:"Por favor ingrese su contraseña",forgetPassword:"Olvidó contraseña",login:"Iniciar sesión usando tu cartera NEAR",loginError:"Usuario o contraseña incorrecta",welcome:"Bienvenido de nuevo"},US:{title:"Login NEARP2P",username:"username",password:"password",usernameRequired:"Please enter your username",passwordRequired:"Please enter the password",forgetPassword:"Forget the password",login:"Log in using your NEAR wallet account",loginError:"The account name or password is incorrect",welcome:"Welcome back"}}}},e74f:function(e,t,a){e.exports=a.p+"static/img/near-protocol-near-logo.a9908d1f.png"}}]);